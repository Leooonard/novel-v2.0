{"version":3,"sources":["webpack:///webpack/bootstrap 97799628ee4e4fb53ae3","webpack:///./aodv.js","webpack:///../vn/Manager.js","webpack:///../vn/Device/Device.js","webpack:///../vn/UniqueIDManager.js","webpack:///../vn/view/DeviceView.js","webpack:///../vn/CoordManager/CoordManager.js","webpack:///../vn/EventDispatcher.js","webpack:///../vn/Device/Circle.js","webpack:///../vn/view/CircleView.js","webpack:///../vn/CoordManager/CircleCoordManager.js","webpack:///../vn/ZIndexManager.js","webpack:///../vn/AnimationManager.js","webpack:///../vn/Board.js","webpack:///../vn/MouseHandler/MouseDownHandler.js","webpack:///../vn/MouseHandler/MouseHandler.js","webpack:///../vn/MouseHandler/MouseMoveHandler.js","webpack:///../vn/MouseHandler/MouseUpHandler.js"],"names":[],"mappings":"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","file":"aodv-pd.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 97799628ee4e4fb53ae3\n **/","import {\n   Manager\n}\nfrom \"../vn/Manager.js\"\n\nimport {\n   registerBoard\n}\nfrom \"../vn/Board.js\"\n\n$(function() {\n   let $board = $(\"#experimentBoard\")\n   registerBoard($board)\n   Manager.setBoard($board)\n\n   let sourceDevice = Manager.generateDevice()\n   sourceDevice.setName(\"源设备\")\n   sourceDevice.setCoord(100, 100)\n   Manager.appendDevice(sourceDevice)\n\n   let targetDevice = Manager.generateDevice()\n   targetDevice.setName(\"目标设备\")\n   targetDevice.setCoord(200, 100)\n   Manager.appendDevice(targetDevice)\n\n   let $addDevice = $(\"#addDevice\")\n   $addDevice.on(\"click\", function(event) {\n      let device = Manager.generateDevice()\n      Manager.appendDevice(device)\n   })\n\n   let $startExperiment = $(\"#startExperiment\")\n   $startExperiment.on(\"click\", function(){\n      let data = Manager.exportData()\n      let dataString = JSON.stringify(data)\n      let url = \"./aodvStartExperiment\"\n      $.post(url, dataString).done(function(response){\n         if(!!response.ok){\n            alert(\"执行成功\")\n            let resultArray = response.result\n            let $resultPanel = $(\"#resultPanel\")\n            for(let i = 0 ; i < resultArray.length ; i++){\n               let result = resultArray[i]\n               let $result = $(\"<p></p>\")\n               $result.text(result)\n               $resultPanel.append($result)\n            }\n            let pcapArray = response.pcap\n            let $pcapPanel = $(\"#pcapPanel\")\n            for(let i = 0 ; i < pcapArray.length ; i++){\n               let pcap = pcapArray[i]\n               let $pcap = $(\"<a></a>\")\n               $pcap.text((i + 1) + \".下载\")\n               $pcap.attr(\"href\", pcap)\n               $pcapPanel.append($pcap)\n            }\n            let traceArray = response.trace\n            let $tracePanel = $(\"#tracePanel\")\n            for(let i = 0 ; i < traceArray.length ; i++){\n               let trace = traceArray[i]\n               let $trace = $(\"<p></p>\")\n               $trace.text(trace)\n               $tracePanel.append($trace)\n            }\n         }else{\n            alert(\"执行失败\")\n         }\n      }).fail(function(){\n         alert(\"执行失败\")\n      })\n   })\n\n   let $saveExperiment = $(\"#saveExperiment\")\n   $saveExperiment.on(\"click\", function(){\n      let data = Manager.exportData()\n      let dataString = JSON.stringify(data)\n      let url = \"./aodvSaveExperiment\"\n      $.post(url, dataString).done(function(response){\n         if(!!response.ok){\n            alert(\"保存成功\")\n         }else{\n            alert(\"保存失败\")\n         }\n      }).fail(function(response){\n         alert(\"保存失败\")\n      })\n   })\n\n   let $loadExperiment = $(\"#loadExperiment\")\n   $loadExperiment.on(\"click\", function(){\n      let url = \"./aodvLoadExperiment\"\n      $.get(url).done(function(response){\n         if(!!response.ok){\n            alert(\"保存成功\")\n            Manager.clearBoard()\n            Manager.initBoardByData(response.data)\n         }else{\n            alert(\"保存失败\")\n         }\n      }).fail(function(response){\n         alert(\"读取失败\")\n      })\n   })\n})\n\n\n/** WEBPACK FOOTER **\n ** ./aodv.js\n **/","import {Device} from \"./Device/Device.js\"\nimport {Circle} from \"./Device/Circle.js\"\nimport {zIndexManager} from \"./ZIndexManager.js\"\nimport {AnimationManager} from \"./AnimationManager.js\"\n\nlet deviceArray = []\nlet $board = undefined\nlet animationManager = undefined\n\nexport class Manager {\n   static setBoard($b){\n      $board = $b\n      animationManager = new AnimationManager($board)\n   }\n\n   static clearBoard(){\n      for(let i = 0 ; i < deviceArray.length ; i++){\n         let device = deviceArray[i]\n         device.remove()\n         zIndexManager.remove(device)\n      }\n      deviceArray = []\n   }\n\n   static initBoardByData(dataArray){\n      for(let i = 0 ; i < dataArray.length ; i++){\n         let data = dataArray[i]\n         let device = Manager.generateDevice()\n         device.setName(data.name)\n         device.setCoord(data.x, data.y)\n         Manager.appendDevice(device)\n      }\n   }\n\n   static generateDevice() {\n      var device = new Device()\n      deviceArray.push(device)\n      device.setCoord(200, 200)\n      device.setName(\"设备\" + deviceArray.length)\n      return device\n   }\n\n   static generateCircle(x, y){\n      let circle = new Circle(x, y)\n      deviceArray.push(circle)\n      return circle\n   }\n\n   static appendDevice(device){\n      $board.append(device.getView())\n      zIndexManager.put(device)\n   }\n\n   static appendCircle(circle){\n      $board.append(circle.getView())\n      zIndexManager.put(circle)\n   }\n\n   static removeCircle(circle){\n      for(let i = 0 ; i < deviceArray.length ; i++){\n         let device = deviceArray[i]\n         if(device.getID() === circle.getID()){\n            let $element = $(\"[data-id=\" + circle.getID() + \"]\")\n            $element.remove()\n            zIndexManager.remove(circle)\n            arrayRemoveAt(deviceArray, i)\n            return\n         }\n      }\n   }\n\n   static getDeviceByElement($element){\n      let id = $element.attr(\"data-id\")\n      for(var i = 0 ; i < deviceArray.length ; i++){\n         let device = deviceArray[i]\n         if(device.getID() === id){\n            return device\n         }\n      }\n      throw new Error(\"unknown $element(id = \" + id + \")\")\n   }\n\n   static playAnimation(animationArray){\n      animationManager.play(deviceArray, animationArray)\n   }\n\n   static exportData(){\n      let dataArray = []\n      for(let i = 0 ; i < deviceArray.length ; i++){\n         let device = deviceArray[i]\n         let x = device.x\n         let y = device.y\n         let index = i\n         let data = {\n            x,\n            y,\n            index,\n         }\n         dataArray.push(data)\n      }\n      return dataArray\n   }\n}\n\nfunction arrayRemoveAt(array, index){\n   array.splice(index, 1)\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/Manager.js\n **/","import {\n   UniqueIDManager\n}\nfrom \"../UniqueIDManager.js\"\nimport {\n   DeviceView\n}\nfrom \"../view/DeviceView.js\"\nimport {\n   CoordManager\n}\nfrom \"../CoordManager/CoordManager.js\"\nimport {\n   eventDispatcher\n}\nfrom \"../EventDispatcher.js\"\n\nimport {Manager} from \"../Manager.js\"\n\nexport class Device {\n   constructor() {\n      this._viewManager = new DeviceView()\n      this._coordManager = new CoordManager()\n      this._id = UniqueIDManager.getUniqueID()\n      this._viewManager.setID(this._id)\n      this._viewManager.setName(\"设备\")\n      \n      eventDispatcher.on(\"ZIndexUpdate\", this, this.updateZIndex)\n      eventDispatcher.on(\"MouseMove\", this, this.updateCoord)\n      eventDispatcher.on(\"MouseOver\", this, this.updateHoverView)\n      eventDispatcher.on(\"MouseOut\", this, this.updateNormalView)\n      eventDispatcher.on(\"LeftMouseDown\", this, this.updateNormalView)\n      eventDispatcher.on(\"DistanceCheck\", this, this.distanceCheck)\n      eventDispatcher.on(\"UnDistanceCheck\", this, this.unDistanceCheck)\n   }\n\n   remove(){\n      this._viewManager.getView().remove()\n   }\n   \n   setName(name){\n      this._viewManager.setName(name)\n   }\n\n   setCoord(x, y) {\n      this._coordManager.setCoord(x, y)\n      this._viewManager.setCoord(this._coordManager.x, this._coordManager.y)\n   }\n   \n   getView() {\n      return this._viewManager.getView()\n   }\n   \n   getID() {\n      return this._id\n   }\n\n   updateZIndex(zIndex) {\n      this._viewManager.updateZIndex(zIndex)\n   }\n\n   updateCoord(coordArg) {\n      this._coordManager.updateCoord(coordArg.dx, coordArg.dy)\n      this._viewManager.setCoord(this._coordManager.x, this._coordManager.y)\n   }\n\n   updateHoverView(){\n      const HoverClassName = \"DeviceHover\"\n      this._viewManager.addClass(HoverClassName)\n      this._circle = Manager.generateCircle(this._coordManager.x, this._coordManager.y)\n      Manager.appendCircle(this._circle)\n      eventDispatcher.broadcast(\"DistanceCheck\", {\n         x: this._coordManager.x,\n         y: this._coordManager.y,\n         device: this,\n      })\n   }\n\n   updateNormalView(){\n      const HoverClassName = \"DeviceHover\"\n      this._viewManager.removeClass(HoverClassName)\n      Manager.removeCircle(this._circle)\n      this._circle = undefined\n      eventDispatcher.broadcast(\"UnDistanceCheck\")\n   }\n\n   distanceCheck(args){\n      const InDistanceClassName = \"InDistance\"\n\n      if(this === args.device){\n         return\n      }else{\n         if(this._coordManager.inDistance(args.x, args.y)){\n            this._viewManager.addClass(InDistanceClassName)\n         }\n      }\n   }\n\n   unDistanceCheck(){\n      const InDistanceClassName = \"InDistance\"\n      this._viewManager.removeClass(InDistanceClassName)\n   }\n\n   get x(){\n      return this._coordManager.x\n   }\n\n   get y(){\n      return this._coordManager.y\n   }\n\n   get name(){\n      return this._viewManager.name\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/Device/Device.js\n **/","let generatedIDArray = []\n\nfunction getRandomString() {\n   const BaseString = \"abcdefghijklmnopqrstuvwxyz\"\n   const StringLength = 3\n   let randomString = \"\"\n   for (let i = 0; i < StringLength; i++) {\n      var index = getRandomInt(0, 25)\n      randomString += BaseString[index]\n   }\n   return randomString\n}\n\nfunction getRandomInt(min, max) {\n   return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction isIDExist(ID) {\n   for (let i = 0; i < generatedIDArray.length; i++) {\n      let generatedID = generatedIDArray[i]\n      if (generatedID === ID) {\n         return true\n      }\n   }\n\n   return false\n}\n\nexport class UniqueIDManager {\n   constructor() {\n\n   }\n\n   static getUniqueID() {\n      const MaxTryTimes = 10000\n      let nowTryTimes = 0\n      while (nowTryTimes < MaxTryTimes) { //防止无限循环\n         const prefix = \"vn-\"\n         let randomString = getRandomString()\n         let uniqueID = prefix + randomString\n         if (!isIDExist(uniqueID)) {\n            generatedIDArray.push(uniqueID)\n            return uniqueID\n         }\n         nowTryTimes++\n      }\n      throw new Error(\"can't generate new unique ID, too many devices\")\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/UniqueIDManager.js\n **/","function getTemplate() {\n   return \"<div class = 'Device' data-vn></div>\"\n}\n\nexport class DeviceView {\n   constructor() {\n      this._template = getTemplate()\n      this._$element = $(this._template)\n   }\n\n   setCoord(x, y) {\n      this._$element.css(\"left\", x)\n      this._$element.css(\"top\", y)\n   }\n\n   setID(id){\n      this._$element.attr(\"data-id\", id)\n   }\n\n   setName(name){\n      this._$element.get(0).textContent = name\n   }\n\n   getView(){\n      return this._$element\n   }\n\n   updateZIndex(zIndex){\n      this._$element.css(\"z-index\", zIndex)\n   }\n\n   addClass(className){\n      this._$element.addClass(className)\n   }\n\n   removeClass(className){\n      this._$element.removeClass(className)\n   }\n\n   get width() {\n      return parseFloat(this._$element.css(\"width\"))\n   }\n\n   get height(){\n      return parseFloat(this._$element.css(\"height\"))\n   }\n\n   get name(){\n      return this._$element.get(0).textContent\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/view/DeviceView.js\n **/","export class CoordManager {\n   constructor() {\n      this._x = 0\n      this._y = 0\n   }\n\n   setCoord(x, y) {\n      this._x = parseFloat(x)\n      this._y = parseFloat(y)\n   }\n\n   updateCoord(dx, dy){\n      this._x += dx\n      this._y += dy\n   }\n\n   inDistance(x, y){\n      const DistanceThreshold = 150\n      let xDistance = Math.pow(this._x - x, 2)\n      let yDistance = Math.pow(this._y - y, 2)\n      let distance = Math.pow(xDistance + yDistance, 0.5)\n      if(distance < DistanceThreshold){\n         return true\n      }else{\n         return false\n      }\n   }\n\n   get x() {\n      return this._x\n   }\n\n   get y() {\n      return this._y\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/CoordManager/CoordManager.js\n **/","import {Manager} from \"./Manager.js\"\n\nclass EventDispatcher {\n   constructor() {\n      this._eventDeviceMap = new Map()\n   }\n\n   on(eventName, device, callback){\n      if(this._eventDeviceMap.has(eventName)){\n         this._eventDeviceMap.get(eventName).set(device, callback)\n      }else{\n         let deviceMap = new Map()\n         deviceMap.set(device, callback)\n         this._eventDeviceMap.set(eventName, deviceMap)\n      }\n   }\n\n   dispatch(eventName, $target, args){\n      if(this._eventDeviceMap.has(eventName)){\n         let deviceMap = this._eventDeviceMap.get(eventName)\n         let device = $target\n         if(!deviceMap.has(device)){\n            if(device instanceof jQuery){\n               device = Manager.getDeviceByElement($target)\n            }else{\n               return\n            }\n         }\n         let callback = this._eventDeviceMap.get(eventName).get(device)\n         callback.call(device, args)\n\n         this.logDispatch(eventName, device)\n      }\n   }\n\n   broadcast(eventName, args){\n      if(this._eventDeviceMap.has(eventName)){\n         let deviceMap = this._eventDeviceMap.get(eventName)\n         let deviceArray = [...deviceMap.entries()]\n         for(let i = 0 ; i < deviceArray.length ; i++){\n            let device =  deviceArray[i][0]\n            let callback = deviceArray[i][1]\n            callback.call(device, args)\n         }\n         this.logBroadcast(eventName)\n      }\n   }\n\n   logDispatch(eventName, device){\n      console.log(eventName + \" fired by device \" + device.getID())\n   }\n\n   logBroadcast(eventName){\n      console.log(eventName + \" broadcast by device \")\n   }\n}\n\nexport let eventDispatcher = new EventDispatcher()\n\n\n\n/** WEBPACK FOOTER **\n ** ../vn/EventDispatcher.js\n **/","import {\n   UniqueIDManager\n}\nfrom \"../UniqueIDManager.js\"\nimport {\n   CircleView\n}\nfrom \"../view/CircleView.js\"\nimport {\n   CircleCoordManager\n}\nfrom \"../CoordManager/CircleCoordManager.js\"\nimport {\n   eventDispatcher\n}\nfrom \"../EventDispatcher.js\"\n\nexport class Circle {\n   constructor(x, y, width) {\n      width = width || 300\n      this._viewManager = new CircleView()\n      this._viewManager.width = width\n      this._coordManager = new CircleCoordManager(this._viewManager.width, 50)\n      this._id = UniqueIDManager.getUniqueID()\n      this._viewManager.setID(this._id)\n      this.setCoord(x, y)\n   }\n\n   setCoord(x, y) {\n      this._coordManager.setCoord(x, y)\n      this._viewManager.setCoord(this._coordManager.x, this._coordManager.y)\n   }\n\n   updateCoord(dx, dy){\n      this._coordManager.updateCoord(dx, dy)\n      this._viewManager.setCoord(this._coordManager.x, this._coordManager.y)\n   }\n\n   getView(){\n      return this._viewManager.getView()\n   }\n\n   getID(){\n      return this._id\n   }\n\n   get width(){\n      return this._viewManager.width\n   }\n\n   set width(w){\n      this._viewManager.width = w\n      this._coordManager.width = w\n   }\n\n   get x(){\n      return this._coordManager.x\n   }\n\n   get y(){\n      return this._coordManager.y\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/Device/Circle.js\n **/","import {\n   DeviceView\n}\nfrom \"./DeviceView.js\"\n\nfunction getTemplate() {\n   return \"<div class = 'Circle'></div>\"\n}\n\nexport class CircleView extends DeviceView {\n   constructor() {\n      super()\n      this._template = getTemplate()\n      this._$element = $(this._template)\n   }\n\n   get width() {\n      return parseFloat(this._$element.css(\"width\"))\n   }\n\n   set width(w){\n      this._$element.css(\"width\", w)\n      this._$element.css(\"height\", w)\n      this._$element.css(\"border-radius\", w)\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/view/CircleView.js\n **/","import {CoordManager} from \"./CoordManager.js\"\n\nexport class CircleCoordManager extends CoordManager{\n\tconstructor(circleWidth, deviceWidth){\n\t\tsuper()\n\t\tthis._circleWidth = circleWidth\n\t\tthis._deviceWidth = deviceWidth\n\t}\n\n   setCoord(x, y){\n      super.setCoord(x, y)\n      this._x -= (this._circleWidth - this._deviceWidth) / 2\n      this._y -= (this._circleWidth - this._deviceWidth) / 2\n   }\n\n   set width(width){\n   \tthis._circleWidth = width\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/CoordManager/CircleCoordManager.js\n **/","import {eventDispatcher} from \"./EventDispatcher.js\"\n\nclass ZIndexManager {\n   constructor(baseZIndex) {\n      this._zIndexMap = new Map()\n      this._baseZIndex = baseZIndex\n   }\n\n   put(device) {\n      var maxZIndex = findMaxZIndex(this._zIndexMap, this._baseZIndex)\n      maxZIndex = IncreaseZIndex(maxZIndex)\n      this._zIndexMap.set(device, maxZIndex)\n      eventDispatcher.dispatch(\"ZIndexUpdate\", device, maxZIndex)\n   }\n\n   remove(device) {\n      this._zIndexMap.delete(device)\n   }\n\n   sticky(device) {\n      if (!this._zIndexMap.has(device)) {\n         throw new Error(\"please use put() function before you sticky a device\")\n      }\n\n      this._zIndexMap = integrateMap(this._zIndexMap, this._baseZIndex)\n      this.put(device)\n   }\n}\n\nfunction findMaxZIndex(zIndexMap, baseZIndex) {\n   let maxZIndex = baseZIndex\n   for (let entry of zIndexMap) {\n      let zIndex = entry[1]\n      if (zIndex > maxZIndex) {\n         maxZIndex = zIndex\n      }\n   }\n   return maxZIndex\n}\n\nfunction IncreaseZIndex(zIndex) {\n   return zIndex + 1\n}\n\nfunction integrateMap(zIndexMap, baseZIndex) {\n   if (needToIntegrate(zIndexMap, baseZIndex)) {\n      var sortedZIndexArray = sortZIndexMapByValue(zIndexMap)\n      for (var i = 0; i < sortedZIndexArray.length; i++) {\n         var zIndexDevice = sortedZIndexArray[i][0]\n         zIndexMap.set(zIndexDevice, baseZIndex + i + 1)\n      }\n   }\n   return zIndexMap\n}\n\nfunction sortZIndexMapByValue(zIndexMap) {\n   return [...zIndexMap.entries()].sort((a, b) => a[1] >= b[1])\n}\n\nfunction needToIntegrate(zIndexMap, baseZIndex) {\n   let maxZIndex = findMaxZIndex(zIndexMap, baseZIndex)\n   let mapSize = zIndexMap.size\n   const multiplier = 10\n   if ((maxZIndex - baseZIndex) > mapSize * multiplier) {\n      return true\n   } else {\n      return false\n   }\n}\n\nexport let zIndexManager = new ZIndexManager(100)\n\n\n/** WEBPACK FOOTER **\n ** ../vn/ZIndexManager.js\n **/","import {\n   Circle\n}\nfrom \"./Device/Circle.js\"\nimport {\n   Manager\n}\nfrom \"./Manager.js\"\n\nexport class AnimationManager {\n   constructor($board) {\n      this._$board = $board\n   }\n\n   play(deviceArray, animationArray) {\n      let animationSectionArray = []\n      let sectionEnd = function(index){\n         if(animationSectionArray[index] !== undefined){\n            animationSectionArray[index]()\n         }\n      }  \n\n      for (let i = 0; i < animationArray.length; i++) {\n         let index = animationArray[i]\n         let device = deviceArray[index]\n         let circle = new Circle(device.x, device.y, 50)\n         this._$board.append(circle.getView())\n\n         let thresholdTest = function() {\n            if (circle.width >= 300) {\n               return false\n            } else {\n               return true\n            }\n         }\n\n         let animation = function() {\n            circle.width = circle.width + 2\n            circle.updateCoord(-1, -1)\n         }\n\n         let duration = 16\n\n         let callNextSection = function() {\n            circle.getView().remove()\n            sectionEnd(i + 1)\n         }\n         let section = this.makeSection(thresholdTest, animation, duration, callNextSection)\n         animationSectionArray.push(section)\n      }\n      animationSectionArray[0]()\n   }\n\n   makeSection(thresholdTest, animation, duration, callNextSection) {\n      let section = function() {\n         setTimeout(function section() {\n            if (thresholdTest()) {\n               animation()\n               setTimeout(section, duration)\n            } else {\n               callNextSection()\n            }\n         }, duration)\n      }\n      return section\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/AnimationManager.js\n **/","import {\n   zIndexManager\n}\nfrom \"./ZIndexManager.js\"\nimport {\n   eventDispatcher\n}\nfrom \"./EventDispatcher.js\"\nimport {\n   MouseDownHandler\n}\nfrom \"./MouseHandler/MouseDownHandler.js\"\nimport {\n   MouseMoveHandler\n}\nfrom \"./MouseHandler/MouseMoveHandler.js\"\nimport {\n   MouseUpHandler\n}\nfrom \"./MouseHandler/MouseUpHandler.js\"\n\nimport {Manager} from \"./Manager.js\"\n\nconst MouseDownDirectListenerMap = {\n   left: leftMouseDownListener,\n   middle: middleMouseDownListener,\n   right: rightMouseDownListener,\n}\n\nconst MouseUpDirectListenerMap = {\n   left: leftMouseUpListener,\n   middle: middleMouseUpListener,\n   right: rightMouseUpListener,\n}\n\nlet $board = undefined\nlet mouseMoved = false\nlet mouseDownHandler = undefined\nlet mouseMoveHandler = undefined\nlet mouseUpHandler = undefined\n\nexport function registerBoard($boardElement) {\n   $board = $boardElement\n   mouseDownHandler = new MouseDownHandler($board)\n   mouseMoveHandler = new MouseMoveHandler($board)\n   mouseUpHandler = new MouseUpHandler($board)\n   $board.on(\"mousedown\", mouseDownListener)\n   $board.on(\"mouseover\", mouseOverListener)\n   $board.on(\"mouseout\", mouseOutListener)\n}\n\nfunction mouseDownListener(event) {\n   let $target = getEventTarget(event)\n   if (!isTarget($target)) {\n      return false\n   }\n\n   mouseDownHandler.store(event)\n   mouseMoveHandler.setLastCoord(mouseDownHandler.x, mouseDownHandler.y)\n   let direct = mouseDownHandler.getMouseDirect()\n   let listener = MouseDownDirectListenerMap[direct]\n   listener(event)\n\n   return false\n}\n\nfunction getEventTarget(event) {\n   return $(event.target)\n}\n\nfunction isTarget($element) {\n   if ($element.data(\"vn\") === undefined) {\n      return false\n   } else {\n      return true\n   }\n}\n\nfunction leftMouseDownListener(event) {\n   stickyMouseDownElement(mouseDownHandler.$target) //sticky，置顶。 \n   inhebitDoubleMouseDown()\n   inhebitHoverListeners()\n   activateNextListener()\n   eventDispatcher.dispatch(\"LeftMouseDown\", mouseDownHandler.$target)\n}\n\nfunction middleMouseDownListener(event) {}\n\nfunction rightMouseDownListener(event) {}\n\nfunction stickyMouseDownElement($element) {\n   var device = Manager.getDeviceByElement($element)\n   zIndexManager.sticky(device)\n}\n\nfunction activateMouseDown(){\n   $board.on(\"mousedown\", mouseDownListener)\n}\n\nfunction inhebitDoubleMouseDown() {\n   $board.off(\"mousedown\")\n}\n\nfunction activateHoverListeners() {\n   $board.on(\"mouseover\", mouseOverListener)\n   $board.on(\"mouseOut\", mouseOutListener)\n}\n\nfunction inhebitHoverListeners() {\n   $board.off(\"mouseover\")\n   $board.off(\"mouseOut\")\n}\n\nfunction inhebitNextListener() {\n   $board.off(\"mousemove\")\n   $board.off(\"mouseup\")\n}\n\nfunction activateNextListener() {\n   $board.on(\"mousemove\", mouseMoveListener)\n   $board.on(\"mouseup\", mouseUpListener)\n}\n\nfunction mouseMoveListener(event) {\n   mouseMoved = true\n   mouseMoveHandler.store(event)\n\n   eventDispatcher.dispatch(\"MouseMove\", mouseDownHandler.$target, {\n      originX: mouseMoveHandler.lastX,\n      originY: mouseMoveHandler.lastY,\n      newX: mouseMoveHandler.x,\n      newY: mouseMoveHandler.y,\n      dx: mouseMoveHandler.dx,\n      dy: mouseMoveHandler.dy,\n   })\n\n   return false\n}\n\nfunction mouseUpListener(event) {\n   mouseUpHandler.store(event)\n   if (mouseDownHandler.which === mouseUpHandler.which) {\n      let direct = mouseUpHandler.getMouseDirect()\n      let listener = MouseUpDirectListenerMap[direct]\n      listener(event)\n   }\n   mouseMoved = false\n   mouseDownHandler.restore()\n   mouseMoveHandler.restore()\n   mouseUpHandler.restore()\n\n   return false\n}\n\nfunction leftMouseUpListener(event) {\n   if (!!mouseMoved) {\n      eventDispatcher.dispatch(\"LeftClick\", mouseDownHandler.$target)\n   }\n   activateMouseDown()\n   activateHoverListeners()\n   inhebitNextListener()\n}\n\nfunction middleMouseUpListener(event) {}\n\nfunction rightMouseUpListener(event) {}\n\nfunction mouseOverListener(event) {\n   let $target = getEventTarget(event)\n   if (!isTarget($target)) {\n      return false\n   }\n\n   eventDispatcher.dispatch(\"MouseOver\", $target)\n\n   return false\n}\n\nfunction mouseOutListener(event) {\n   let $target = getEventTarget(event)\n   if (!isTarget($target)) {\n      return false\n   }\n\n   eventDispatcher.dispatch(\"MouseOut\", $target)\n\n   return false\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/Board.js\n **/","import {MouseHandler} from \"./MouseHandler.js\"\n\nexport class MouseDownHandler extends MouseHandler{\n\tconstructor($b) {\n\t\tsuper($b)\n\t}\n\n\tgetMouseDirect(){\n\t\tlet which = this._event.which\n\t\tswitch(which){\n\t\t\tcase 1:\n\t\t\t\treturn \"left\"\n\t\t\tcase 2:\n\t\t\t\treturn \"middle\"\n\t\t\tcase 3:\n\t\t\t\treturn \"right\"\n\t\t\tdefault:\n         \t\tthrow new Error(\"unknown event.which = \" + which)\n\t\t}\n\t}\n\n\tget which(){\n\t\treturn this._event.which\n\t}\n\n\tget x(){\n\t\treturn this.getCoord(this._event).x\n\t}\n\n\tget y(){\n\t\treturn this.getCoord(this._event).y\n\t}\n\n\tget $target(){\n\t\tvar $target = $(event.target)\n\t\treturn $target\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/MouseHandler/MouseDownHandler.js\n **/","export class MouseHandler{\n\tconstructor($b){\n\t\tthis._$board = $b\n\t}\n\n\tstore(event){\n\t\tthis.storeEvent(event)\n\t}\n\n\tstoreEvent(event){\n\t\tthis._event = event\n\t}\n\n\trestore(){\n\t\tthis.restoreEvent()\n\t}\n\n\trestoreEvent(){\n\t\tthis._event = undefined\n\t}\n\n\tgetCoord(event) {\n\t\tvar offset = this._$board.offset()\n\t\tvar x = event.clientX - offset.left\n\t\tvar y = event.clientY - offset.top\n\t\treturn {\n\t\t\tx,\n\t\t\ty,\n\t\t}\n\t}\n}\t\n\n\n/** WEBPACK FOOTER **\n ** ../vn/MouseHandler/MouseHandler.js\n **/","import {\n   MouseHandler\n}\nfrom \"./MouseHandler.js\"\n\nexport class MouseMoveHandler extends MouseHandler {\n   constructor($b) {\n      super($b)\n   }\n\n   store(event) {\n      //第一次触发move事件后，坐标的更新就通过上次event对象来进行。\n      if (this._event !== undefined) {\n         let coord = this.getCoord(this._event)\n         this.setLastCoord(coord.x, coord.y)\n      }\n\n      this.storeEvent(event)\n   }\n\n   get lastX() {\n      return this._x\n   }\n\n   get lastY() {\n      return this._y\n   }\n\n   get x() {\n      return this.getCoord(this._event).x\n   }\n\n   get y() {\n      return this.getCoord(this._event).y\n   }\n\n   get dx() {\n      return this.x - this.lastX\n   }\n\n   get dy() {\n      return this.y - this.lastY\n   }\n\n   hasLastCoord() {\n      if (this._lastCoord === undefined) {\n         return false\n      } else {\n         return true\n      }\n   }\n\n   setLastCoord(x, y) {\n      this._x = x\n      this._y = y\n   }\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/MouseHandler/MouseMoveHandler.js\n **/","import {MouseHandler} from \"./MouseHandler.js\"\n\nexport class MouseUpHandler extends MouseHandler{\n\tconstructor($b){\n\t\tsuper($b)\n\t}\n\n\tget which(){\n\t\treturn this._event.which\n\t}\n\n\tgetMouseDirect(){\n\t\tlet which = this._event.which\n\t\tswitch(which){\n\t\t\tcase 1:\n\t\t\t\treturn \"left\"\n\t\t\tcase 2:\n\t\t\t\treturn \"middle\"\n\t\t\tcase 3:\n\t\t\t\treturn \"right\"\n\t\t\tdefault:\n         \t\tthrow new Error(\"unknown event.which = \" + which)\n\t\t}\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ../vn/MouseHandler/MouseUpHandler.js\n **/"],"sourceRoot":""}